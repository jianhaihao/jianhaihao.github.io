(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{263:function(t,a,s){"use strict";s.r(a);var n=s(0),v=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"浏览器概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器概述","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器概述")]),t._v(" "),s("p",[t._v("JavaScript 是浏览器内置的脚本语言，所以说浏览器也内置了 JavaScript 引擎，并且提供了许多接口供 JavaScript 来控制浏览器")]),t._v(" "),s("h2",{attrs:{id:"如何在网页中嵌入代码？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何在网页中嵌入代码？","aria-hidden":"true"}},[t._v("#")]),t._v(" 如何在网页中嵌入代码？")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("<script>")]),t._v("标签直接写 JavaScript 代码")])]),t._v(" "),s("p",[s("code",[t._v("<script>")]),t._v("标签有一个"),s("code",[t._v("type")]),t._v("属性，可省略，也可以设置为下面两个值")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("text/javascript")]),t._v("：默认值，适用于老浏览器")]),t._v(" "),s("li",[s("code",[t._v("application/javascript")]),t._v("：适用于新浏览器")])]),t._v(" "),s("p",[s("strong",[s("code",[t._v("<script>")]),t._v("标签加载外部脚本")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("src")]),t._v("属性指定脚本的路径")]),t._v(" "),s("li",[s("code",[t._v("charset")]),t._v("属性指定脚本的编码方式")])]),t._v(" "),s("p",[s("strong",[t._v("事件属性")])]),t._v(" "),s("p",[t._v("网页的事件属性，比如"),s("code",[t._v("onclick")]),t._v("、"),s("code",[t._v("onmouseover")]),t._v("，属性值可以直接写入 JavaScript 代码")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("onclick")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("console.log("),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("hello world"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("点击"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("strong",[t._v("URL 协议")])]),t._v(" "),s("p",[t._v("URL 支持"),s("code",[t._v("javascript:")]),t._v("协议，后面可以可写 JavaScript 脚本")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascript:console.log("),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("hello world"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("点击"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"script-元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#script-元素","aria-hidden":"true"}},[t._v("#")]),t._v(" script 元素")]),t._v(" "),s("p",[s("strong",[t._v("浏览器加载网页流程")])]),t._v(" "),s("ul",[s("li",[t._v("一边加载一边解析")]),t._v(" "),s("li",[t._v("遇到"),s("code",[t._v("<script>")]),t._v("标签，停止加载，将控制权交给 JavaScript 引擎")]),t._v(" "),s("li",[t._v("JavaScript 引擎完毕，将控制权交还给浏览器")])]),t._v(" "),s("p",[t._v("有多个"),s("code",[t._v("<script>")]),t._v("标签，同时下载，按顺序执行")]),t._v(" "),s("p",[s("strong",[t._v("最佳实践")])]),t._v(" "),s("ul",[s("li",[t._v("将"),s("code",[t._v("<script>")]),t._v("标签放在尾部，防止页面假死")])]),t._v(" "),s("p",[s("strong",[t._v("defer 属性")])]),t._v(" "),s("p",[t._v("延迟脚本的执行，不影响脚本的下载，页面加载完之后按顺序执行脚本")]),t._v(" "),s("p",[t._v("在"),s("code",[t._v("DOMContentLoaded")]),t._v("事件触发前执行（即刚刚读取完"),s("code",[t._v("</html>")]),t._v("标签），执行的顺序不变，即在页面出现的顺序")]),t._v(" "),s("p",[s("strong",[t._v("async 属性")])]),t._v(" "),s("p",[t._v("延迟脚本执行，不影响脚本下载，先下载完的脚本先执行")]),t._v(" "),s("p",[s("strong",[t._v("脚本的动态加载")])]),t._v(" "),s("p",[t._v("通过创建"),s("code",[t._v("<script>")]),t._v("标签可以动态加载脚本文件")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token string"}},[t._v("'a.js'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'b.js'")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("forEach")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" script "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createElement")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'script'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  script"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" src"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  script"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("将"),s("code",[t._v("<script>")]),t._v("标签的"),s("code",[t._v("async")]),t._v("属性设置为"),s("code",[t._v("false")]),t._v("可以保证脚本的执行顺序")]),t._v(" "),s("h2",{attrs:{id:"浏览器的组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的组成","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器的组成")]),t._v(" "),s("ul",[s("li",[t._v("渲染引擎")]),t._v(" "),s("li",[t._v("JavaScript 引擎（JavaScript 解释器）")])]),t._v(" "),s("h3",{attrs:{id:"渲染引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渲染引擎","aria-hidden":"true"}},[t._v("#")]),t._v(" 渲染引擎")]),t._v(" "),s("p",[t._v("将网页代码渲染成用户可感知的平面文档")]),t._v(" "),s("p",[t._v("不同的浏览器拥有不同的渲染引擎")]),t._v(" "),s("ul",[s("li",[t._v("Firefox：Gecko 引擎")]),t._v(" "),s("li",[t._v("Safari：Webkit 引擎")]),t._v(" "),s("li",[t._v("Chrome：Blink 引擎")]),t._v(" "),s("li",[t._v("IE：Trident 引擎")]),t._v(" "),s("li",[t._v("Edge：EdgeHTML 引擎")])]),t._v(" "),s("p",[t._v("渲染引擎处理页面，分为四个阶段")]),t._v(" "),s("ol",[s("li",[t._v("解析代码：将 HTML 代码解析成 DOM，CSS 解析成 CSSOM（CSS Object Model）")]),t._v(" "),s("li",[t._v("对象合成：将 DOM 和 CSSOM 合成为一颗渲染树")]),t._v(" "),s("li",[t._v("布局：计算渲染树的布局")]),t._v(" "),s("li",[t._v("渲染：将渲染树绘制到屏幕")])]),t._v(" "),s("p",[t._v("上面几步不严格按照顺序执行")]),t._v(" "),s("h3",{attrs:{id:"重流和重绘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重流和重绘","aria-hidden":"true"}},[t._v("#")]),t._v(" 重流和重绘")]),t._v(" "),s("p",[t._v("渲染树转换为网页布局，成为“布局流”（flow），布局显示到页面的这个过程，成为“绘制”（paint），他们都具有阻塞效应，会消耗很多时间和计算资源")]),t._v(" "),s("p",[t._v("页面生成以后，脚本操作和样式表操作，都会触发“重流”（reflow）和“重绘”（repaint）。用户的互动也会触发，比如鼠标悬停，输入框输入文本，改变窗口大小等")]),t._v(" "),s("p",[t._v("重回和重流并不会一起发生，重流必然导致重绘，重绘不一定导致重流，改变元素的布局，会导致重流和重绘，如果只改变元素的颜色，只会导致重绘")]),t._v(" "),s("p",[t._v("一些开发和网页的优化技巧")]),t._v(" "),s("ul",[s("li",[t._v("读取和写入 DOM，尽量写在一起，减少读写 DOM 次数")]),t._v(" "),s("li",[t._v("缓存 DOM 信息")]),t._v(" "),s("li",[t._v("使用 CSS class 一次性改变样式，不要一项一项修改")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("documentFragment")]),t._v("操作 DOM")]),t._v(" "),s("li",[t._v("动画使用"),s("code",[t._v("fixed")]),t._v("和"),s("code",[t._v("absolute")]),t._v("定位，减少对其他元素的影响")]),t._v(" "),s("li",[t._v("使用虚拟 DOM（virtual DOm）库")])])])}],!1,null,null,null);v.options.__file="guide.md";a.default=v.exports}}]);