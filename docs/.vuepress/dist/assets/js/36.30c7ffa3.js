(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{191:function(t,e,a){"use strict";a.r(e);var i=a(0),r=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"nginx-作为静态资源服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-作为静态资源服务器","aria-hidden":"true"}},[t._v("#")]),t._v(" Nginx 作为静态资源服务器")]),t._v(" "),a("h2",{attrs:{id:"服务场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务场景","aria-hidden":"true"}},[t._v("#")]),t._v(" 服务场景")]),t._v(" "),a("ul",[a("li",[t._v("CDN")])]),t._v(" "),a("h2",{attrs:{id:"nginx-静态资源相关模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-静态资源相关模块","aria-hidden":"true"}},[t._v("#")]),t._v(" Nginx 静态资源相关模块")]),t._v(" "),a("h3",{attrs:{id:"sendfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sendfile","aria-hidden":"true"}},[t._v("#")]),t._v(" sendfile")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: sendfile on | off;")]),t._v(" "),a("li",[t._v("Default: sendfile on;")]),t._v(" "),a("li",[t._v("Context: http, server, location, if in location")])]),t._v(" "),a("h3",{attrs:{id:"tcp-nopush"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-nopush","aria-hidden":"true"}},[t._v("#")]),t._v(" tcp_nopush")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: tcp_nopush on | off;")]),t._v(" "),a("li",[t._v("Default: tcp_nopush off;")]),t._v(" "),a("li",[t._v("Context: http, server, location")])]),t._v(" "),a("p",[t._v("作用：在 sendfile 开启的情况下，提高网络包的传输效率")]),t._v(" "),a("h3",{attrs:{id:"tcp-nodelay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-nodelay","aria-hidden":"true"}},[t._v("#")]),t._v(" tcp_nodelay")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: tcp_nodelay on | off;")]),t._v(" "),a("li",[t._v("Default: tcp_nodelay on;")]),t._v(" "),a("li",[t._v("Context: http, server, location;")])]),t._v(" "),a("p",[t._v("作用：在 keepalive 连接下，提高网络包传输的实时性")]),t._v(" "),a("h3",{attrs:{id:"gzip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzip","aria-hidden":"true"}},[t._v("#")]),t._v(" gzip")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: gzip on | off;")]),t._v(" "),a("li",[t._v("Default: gzip off;")]),t._v(" "),a("li",[t._v("Context: http, server, location, if in location")])]),t._v(" "),a("p",[t._v("作用：传输压缩")]),t._v(" "),a("h3",{attrs:{id:"gzip-comp-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzip-comp-level","aria-hidden":"true"}},[t._v("#")]),t._v(" gzip_comp_level")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: gzip_comp_level level;")]),t._v(" "),a("li",[t._v("Default: gzip_comp_level 1;")]),t._v(" "),a("li",[t._v("Context: http, server, location")])]),t._v(" "),a("p",[t._v("作用：压缩比")]),t._v(" "),a("h3",{attrs:{id:"gzip-http-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzip-http-version","aria-hidden":"true"}},[t._v("#")]),t._v(" gzip_http_version")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: gzip_http_version 1.0 1.1;")]),t._v(" "),a("li",[t._v("Default: gzip_http_version 1.1;")]),t._v(" "),a("li",[t._v("Context: http, server, location")])]),t._v(" "),a("h3",{attrs:{id:"扩展-nginx-压缩模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展-nginx-压缩模块","aria-hidden":"true"}},[t._v("#")]),t._v(" 扩展 Nginx 压缩模块")]),t._v(" "),a("ul",[a("li",[t._v("http_gzip_static_module - 预读 gzip 功能")]),t._v(" "),a("li",[t._v("http_gunzip_module - 应用支持 gunzip 压缩方式")])]),t._v(" "),a("h2",{attrs:{id:"浏览器缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器缓存")]),t._v(" "),a("p",[t._v("http 定义的缓存机制（如：Expires, Cache-Control 等）")]),t._v(" "),a("ul",[a("li",[t._v("浏览器请求--\x3e无缓存--\x3e从服务器获取数据--\x3e呈现")]),t._v(" "),a("li",[t._v("浏览器请求--\x3e有缓存--\x3e校验是否过期--\x3e呈现")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("--")]),t._v(" "),a("th",[t._v("--")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("校验是否过期")]),t._v(" "),a("td",[t._v("Expires, Cache-Control(max-age)")])]),t._v(" "),a("tr",[a("td",[t._v("协议中 Etag 头信息校验")]),t._v(" "),a("td",[t._v("Etag")])]),t._v(" "),a("tr",[a("td",[t._v("Last-Modified 头信息校验")]),t._v(" "),a("td",[t._v("Last-Modified")])])])]),t._v(" "),a("h3",{attrs:{id:"配置语法-expires"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置语法-expires","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置语法 expires")]),t._v(" "),a("p",[t._v("添加 Cache-Controller, Expires 头")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: expires [modified] time;  expries epoch |max|off;")]),t._v(" "),a("li",[t._v("Default expires off;")]),t._v(" "),a("li",[t._v("Context: http, server, location, if in location")])]),t._v(" "),a("h2",{attrs:{id:"跨站访问支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨站访问支持","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨站访问支持")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: add_header name value [always];")]),t._v(" "),a("li",[t._v("Default: --;")]),t._v(" "),a("li",[t._v("Context: http, server, location, if in location")])]),t._v(" "),a("h2",{attrs:{id:"防盗链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防盗链","aria-hidden":"true"}},[t._v("#")]),t._v(" 防盗链")]),t._v(" "),a("blockquote",[a("p",[t._v("防止网站资源被盗用")])]),t._v(" "),a("h3",{attrs:{id:"基于-http-refer-防盗链配置模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于-http-refer-防盗链配置模块","aria-hidden":"true"}},[t._v("#")]),t._v(" 基于 http_refer 防盗链配置模块")]),t._v(" "),a("ul",[a("li",[t._v("Syntax: valid_referers none|blocked|servernames|string...;")]),t._v(" "),a("li",[t._v("Default: --")]),t._v(" "),a("li",[t._v("Context: server, location")])])])}],!1,null,null,null);r.options.__file="static-resource.md";e.default=r.exports}}]);