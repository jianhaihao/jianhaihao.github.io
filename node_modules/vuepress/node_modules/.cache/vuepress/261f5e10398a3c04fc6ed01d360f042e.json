{"remainingRequest":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/es6/async.md?vue&type=template&id=2456c2e4&","dependencies":[{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/es6/async.md","mtime":1537944817433},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537944818120},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1537944820597},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537944818120},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js","mtime":1537944820597},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1537944820671}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('h1',{attrs:{\"id\":\"async-函数\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#async-函数\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" async 函数\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"含义\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#含义\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 含义\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"ES2017 标准引入 async 函数，使得异步操作更加的简单，实际上就是 Generator 函数的语法糖\")])]),_vm._v(\" \"),_c('div',{staticClass:\"language-javascript extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-javascript\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" asyncReadFile \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"async\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"function\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" result1 \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"await\")]),_vm._v(\" fs\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"readFile\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'file1'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" result2 \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"await\")]),_vm._v(\" fs\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"readFile\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'file2'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])])]),_c('p',[_vm._v(\"上面就是 async 函数，和 Generator 函数相比就是把\"),_c('code',[_vm._v(\"*\")]),_vm._v(\"换成了\"),_c('code',[_vm._v(\"async\")]),_vm._v(\"，把\"),_c('code',[_vm._v(\"yield\")]),_vm._v(\"换成了\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"，直接执行\"),_c('code',[_vm._v(\"asyncReadFile\")]),_vm._v(\"函数，会达到和 Generator 函数一样的效果。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"对比-generator\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#对比-generator\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 对比 Generator\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"内置的执行器，Generator 函数需要自己写执行器，而\"),_c('code',[_vm._v(\"async\")]),_vm._v(\"函数不需要\")]),_vm._v(\" \"),_c('li',[_vm._v(\"更好的语义，\"),_c('code',[_vm._v(\"async\")]),_vm._v(\"表示函数里面有异步操作，\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"表示后面的表达式是异步操作\")]),_vm._v(\" \"),_c('li',[_vm._v(\"更广的适用性，\"),_c('code',[_vm._v(\"yield\")]),_vm._v(\"后面只能跟\"),_c('code',[_vm._v(\"Thunk\")]),_vm._v(\"函数或者 Promise 对象，而\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"后面可以跟任何对象和值，当后面的值为数值，字符串和布尔值时，操作等同于同步操作\")]),_vm._v(\" \"),_c('li',[_vm._v(\"返回值是 Promise 对象，可以用\"),_c('code',[_vm._v(\"then\")]),_vm._v(\"指定下一步操作\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"基本用法\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#基本用法\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 基本用法\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"async 函数的错误可以在返回的 Promise 对象通过\"),_c('code',[_vm._v(\"catch\")]),_vm._v(\"捕捉\")]),_vm._v(\" \"),_c('li',[_vm._v(\"async 函数内部\"),_c('code',[_vm._v(\"return\")]),_vm._v(\"的值，可以在返回的 Promise 对象回调函数里面接收\")]),_vm._v(\" \"),_c('li',[_vm._v(\"async 函数返回的 Promise 对象，需要等到函数内部所有异步操作完成后，状态才会改变\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"语法\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#语法\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 语法\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"只要有一个\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"后面 Promise 对象的状态变为\"),_c('code',[_vm._v(\"rejected\")]),_vm._v(\"状态，async 会终止执行，可以在\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"后面的Promise 对象直接捕获错误，可以避免终止整个 async 函数的执行\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"使用注意点\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#使用注意点\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 使用注意点\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"建议把\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"命令放在\"),_c('code',[_vm._v(\"try...catch\")]),_vm._v(\"块中\")]),_vm._v(\" \"),_c('li',[_vm._v(\"多个\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"命令后面的异步操作如果没有继发关系，最好让他们同时触发，缩短程序的执行时间，使用\"),_c('code',[_vm._v(\"Promise.all()\")]),_vm._v(\"可以实现\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"await\")]),_vm._v(\"命令只能用在 async 函数里面，用在普通函数会报错，常见的\"),_c('code',[_vm._v(\"forEach()\")]),_vm._v(\"函数里面不能使用\"),_c('code',[_vm._v(\"await\")]),_vm._v(\"关键字，可以使用\"),_c('code',[_vm._v(\"for...of\")]),_vm._v(\"代替\")])])])}]\n\nexport { render, staticRenderFns }"]}