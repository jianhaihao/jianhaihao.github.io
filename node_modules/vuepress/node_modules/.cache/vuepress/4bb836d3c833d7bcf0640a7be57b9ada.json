{"remainingRequest":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/linux/install-and-login.md?vue&type=template&id=098c7f50&","dependencies":[{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/linux/install-and-login.md","mtime":1537944817438},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537944818120},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1537944820597},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537944818120},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js","mtime":1537944820597},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1537944820671}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"安装与-ssh-登录\"><a class=\"header-anchor\" href=\"#安装与-ssh-登录\" aria-hidden=\"true\">#</a> 安装与 SSH 登录</h1>\n<h2 id=\"准备工作\"><a class=\"header-anchor\" href=\"#准备工作\" aria-hidden=\"true\">#</a> 准备工作</h2>\n<ul>\n<li>\n<p>查看 ip</p>\n<ul>\n<li>ifconfig # minimal 镜像不包括此命令</li>\n<li>ip addr</li>\n<li>vi /etc/sysconfig/network-scripts/ifcfg-xxx # 修改网卡配置 ONBOOT=yes，并重启网卡</li>\n<li>yum install net-tools # 安装 ifconfig 命令</li>\n</ul>\n</li>\n<li>\n<p>替换默认源</p>\n<ul>\n<li>安装 wget</li>\n<li>源地址：<a href=\"http://mirrors.163.com/.help/centos.html\" target=\"_blank\" rel=\"noopener noreferrer\">http://mirrors.163.com/.help/centos.html<OutboundLink/></a></li>\n<li>源文件位置 /etc/yum.repos.d/CentOS-Base.repo</li>\n</ul>\n</li>\n<li>\n<p>安装 vim</p>\n</li>\n</ul>\n<h2 id=\"ssh\"><a class=\"header-anchor\" href=\"#ssh\" aria-hidden=\"true\">#</a> SSH</h2>\n<blockquote>\n<p>Secure Shell 安全外壳协议</p>\n</blockquote>\n<ul>\n<li>跨平台</li>\n</ul>\n<h3 id=\"服务器安装-ssh-服务\"><a class=\"header-anchor\" href=\"#服务器安装-ssh-服务\" aria-hidden=\"true\">#</a> 服务器安装 SSH 服务</h3>\n<ul>\n<li>安装 SSH yum install openssh-server</li>\n<li>启动 SSH service sshd start</li>\n<li>设置开机启动 chkconfig ssh on</li>\n</ul>\n<h3 id=\"客户端安装-ssh-工具\"><a class=\"header-anchor\" href=\"#客户端安装-ssh-工具\" aria-hidden=\"true\">#</a> 客户端安装 SSH 工具</h3>\n<ul>\n<li>SSH 是典型的 C/S （客户端与服务端） 的交互模式</li>\n<li>windows 平台常用 SSH 软件是 Xshell, Putty, secureCRT</li>\n<li>Linux 平台只需要执行 yum install openssh-clients</li>\n</ul>\n<h3 id=\"连接方式\"><a class=\"header-anchor\" href=\"#连接方式\" aria-hidden=\"true\">#</a> 连接方式</h3>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code><span class=\"token function\">ssh</span> root@192.168.31.54\n</code></pre>\n<!--beforeend--></div><!--afterend--><h3 id=\"ssh-config\"><a class=\"header-anchor\" href=\"#ssh-config\" aria-hidden=\"true\">#</a> SSH config</h3>\n<ul>\n<li>config 方便管理多个 SSH</li>\n<li>config 存放在 ~/.ssh/config</li>\n<li>config 配置，配置完成之后直接通过<code>ssh centos7</code>连接</li>\n</ul>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>host <span class=\"token string\">\"centos7\"</span>\n  HostName 192.168.31.54\n  User root\n  Port 22\n  IdentityFile ./centos7_rsa\n</code></pre>\n<!--beforeend--></div><!--afterend--><h3 id=\"ssh-安全免密码登陆：-ssh-key\"><a class=\"header-anchor\" href=\"#ssh-安全免密码登陆：-ssh-key\" aria-hidden=\"true\">#</a> SSH 安全免密码登陆： ssh key</h3>\n<ul>\n<li>ssh key 采用非对称方式生成一对公钥和私钥</li>\n<li>私钥放在<code>~/.ssh</code>目录下面</li>\n<li>公钥可以对外开放，放在服务器的<code>～/.ssh/authorized_keys</code></li>\n<li>使用<code>ssh-add xx_rsa</code>将密钥加载到 ssh 服务</li>\n<li>非 root 用户添加免密码登录，<code>.ssh</code>目录权限须改为<code>700</code>，<code>authorized_keys</code>文件权限须改成<code>600</code></li>\n</ul>\n<h3 id=\"linux-平台生成-ssh-key\"><a class=\"header-anchor\" href=\"#linux-平台生成-ssh-key\" aria-hidden=\"true\">#</a> Linux 平台生成 ssh key</h3>\n<ul>\n<li>\n<p><code>ssh-keygen -t rsa</code></p>\n</li>\n<li>\n<p><code>ssh-keygen -t dsa</code></p>\n</li>\n<li>\n<p>输入公私钥名称，生成两个文件 xx_rsa, xx_rsa.pub</p>\n</li>\n</ul>\n<h3 id=\"ssh-端口安全\"><a class=\"header-anchor\" href=\"#ssh-端口安全\" aria-hidden=\"true\">#</a> SSH 端口安全</h3>\n<ul>\n<li>修改默认端口号<code>vim /etc/ssh/sshd_config</code>, 修改 port 重启 SSH 服务即可</li>\n<li><code>service sshd restart</code>重启 SSH 服务</li>\n</ul>\n</div>\n",null]}