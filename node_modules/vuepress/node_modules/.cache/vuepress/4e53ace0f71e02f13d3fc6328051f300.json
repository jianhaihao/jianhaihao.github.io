{"remainingRequest":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/git/webhook.md?vue&type=template&id=186b5be3&","dependencies":[{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/git/webhook.md","mtime":1543729701887},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1543729702801},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1543729704943},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1543729702801},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js","mtime":1543729704943},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1543729705021}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('h1',{attrs:{\"id\":\"ssh-key\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#ssh-key\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" ssh-key\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"生成ssh-key\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#生成ssh-key\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 生成ssh-key\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# linux环境\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 进入家目录\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cd\")]),_vm._v(\" ~\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 如未配置git全局用户名，进行配置\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" config --global  user.name \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"用户名\\\"\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 如未配置git全局邮箱，进行配置\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" config --global user.email \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"邮箱\\\"\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 生成密钥（执行命令后一直回车即可）\")]),_vm._v(\"\\nssh-keygen -t rsa -C \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"邮箱\\\"\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 进入生成密钥的目录\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cd\")]),_vm._v(\" ~/.ssh/\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 查看ssh-key\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cat\")]),_vm._v(\" id_rsa.pub\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 将ssh-key配置到个人git账户中\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 进入github官网：https://github.com/settings/keys 中的 SSH keys\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 测试 ssh-key\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"ssh\")]),_vm._v(\" -T git@github.com\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 输入yes后若显示 \")]),_vm._v(\"\\nHi xxx\"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"!\")]),_vm._v(\" You’ve successfully authenticated, but GitHub does not provide shell access. \\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 则代表成功\")]),_vm._v(\"\\n\\n\")])])]),_c('h2',{attrs:{\"id\":\"使ssh-key生效\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#使ssh-key生效\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 使ssh-key生效\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# github上传ssh-key后仍须输入密码问题\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 这种事情通常发生在更换机器后克隆自己仓库的时候，通常我们会使用https方式克隆\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" clone https://github.com/Name/project.git\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 这样便会在你git push时候要求输入用户名和密码\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 解决的方法是使用ssh方式克隆仓库\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" clone git@github.com:Name/project.git\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 如果你已经用https方式克隆了仓库，就不必删除仓库重新克隆，只需将 .git/config 文件中的\")]),_vm._v(\"\\nurl \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" https://github.com/Name/project.git\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 改为 \")]),_vm._v(\"\\nurl \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" git@github.com:Name/project.git\\n\\n\")])])]),_c('h2',{attrs:{\"id\":\"配置webhook\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#配置webhook\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 配置webhook\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 查看当前网络访问时的用户\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"##################文件内容开始线#############################\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"<\")]),_vm._v(\"?php\\n\\nexec\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"whoami\\\"\")]),_vm._v(\", \"),_c('span',{attrs:{\"class\":\"token variable\"}},[_vm._v(\"$out\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"     \"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# whoami = id -un\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"echo\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"<pre>\\\"\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\nprint_r\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token variable\"}},[_vm._v(\"$out\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"##################文件内容结束线#############################\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 通过浏览器访问该文件，获得用户名\")]),_vm._v(\"\\napache      \"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 本机演示得到的用户名，请以实际用户名为准\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 将当前需要git同步的仓库目录，权限给到浏览器访问的用户名\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"chown\")]),_vm._v(\" -R apache:apache demo    \"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# demo为演示的服务器仓库目录（demo 或 demo/ 都可以）\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 如遇以下报错信息：\")]),_vm._v(\"\\nCould not create directory \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'/usr/share/httpd/.ssh'\")]),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\".\")]),_vm._v(\"\\nHost key verification failed.\\nfatal: Could not \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"read\")]),_vm._v(\" from remote repository.\\nPlease \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"make\")]),_vm._v(\" sure you have the correct access rights\\nand the repository exists.\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 以上报错说明实际浏览器访问时，是到 /usr/share/httpd/.ssh 下读取公钥\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 因没有读到，只需要复制实际公钥生成的文件到当前文件夹下即可\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cd\")]),_vm._v(\" /usr/share/httpd/\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"mkdir\")]),_vm._v(\" .ssh\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cp\")]),_vm._v(\" ~/.ssh/id_rsa /usr/share/httpd/.ssh/\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cp\")]),_vm._v(\" ~/.ssh/id_rsa.pub /usr/share/httpd/.ssh/\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cp\")]),_vm._v(\" ~/.ssh/known_hosts /usr/share/httpd/.ssh/\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 将新增的密钥相关文件权限改到浏览器访问的用户名\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"chown\")]),_vm._v(\" -R apache:apache .ssh\\n\\n\")])])]),_c('h2',{attrs:{\"id\":\"非root用户运行docker\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#非root用户运行docker\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 非root用户运行docker\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 首先创建docker用户组，如果docker用户组存在可以忽略\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"sudo\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"groupadd\")]),_vm._v(\" docker\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 把用户添加进docker组中\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"sudo\")]),_vm._v(\" gpasswd -a \"),_c('span',{attrs:{\"class\":\"token variable\"}},[_vm._v(\"${USER}\")]),_vm._v(\" docker\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 重启docker\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"sudo\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"service\")]),_vm._v(\" docker restart\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 如果普通用户执行docker命令，如果提示get …… dial unix /var/run/docker.sock权限不够\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 则修改/var/run/docker.sock权限使用root用户执行如下命令即可\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"sudo\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"chmod\")]),_vm._v(\" a+rw /var/run/docker.sock\\n\\n\")])])]),_c('h2',{attrs:{\"id\":\"更新linux系统时间\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#更新linux系统时间\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 更新Linux系统时间\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 查看时间 \")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"date\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 更新时间\")]),_vm._v(\"\\nyum \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"install\")]),_vm._v(\" ntpdate\\nntpdate time.windows.com\\n\\n\")])])])])}]\n\nexport { render, staticRenderFns }"]}