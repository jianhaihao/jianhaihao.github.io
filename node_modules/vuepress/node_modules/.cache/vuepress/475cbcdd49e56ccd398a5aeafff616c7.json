{"remainingRequest":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/nginx/static-resource.md?vue&type=template&id=58ab2389&","dependencies":[{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/nginx/static-resource.md","mtime":1537933948874},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537933949569},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1537933952458},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537933949569},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js","mtime":1537933952457},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1537933952565}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"nginx-作为静态资源服务器\"><a class=\"header-anchor\" href=\"#nginx-作为静态资源服务器\" aria-hidden=\"true\">#</a> Nginx 作为静态资源服务器</h1>\n<h2 id=\"服务场景\"><a class=\"header-anchor\" href=\"#服务场景\" aria-hidden=\"true\">#</a> 服务场景</h2>\n<ul>\n<li>CDN</li>\n</ul>\n<h2 id=\"nginx-静态资源相关模块\"><a class=\"header-anchor\" href=\"#nginx-静态资源相关模块\" aria-hidden=\"true\">#</a> Nginx 静态资源相关模块</h2>\n<h3 id=\"sendfile\"><a class=\"header-anchor\" href=\"#sendfile\" aria-hidden=\"true\">#</a> sendfile</h3>\n<ul>\n<li>Syntax: sendfile on | off;</li>\n<li>Default: sendfile on;</li>\n<li>Context: http, server, location, if in location</li>\n</ul>\n<h3 id=\"tcp-nopush\"><a class=\"header-anchor\" href=\"#tcp-nopush\" aria-hidden=\"true\">#</a> tcp_nopush</h3>\n<ul>\n<li>Syntax: tcp_nopush on | off;</li>\n<li>Default: tcp_nopush off;</li>\n<li>Context: http, server, location</li>\n</ul>\n<p>作用：在 sendfile 开启的情况下，提高网络包的传输效率</p>\n<h3 id=\"tcp-nodelay\"><a class=\"header-anchor\" href=\"#tcp-nodelay\" aria-hidden=\"true\">#</a> tcp_nodelay</h3>\n<ul>\n<li>Syntax: tcp_nodelay on | off;</li>\n<li>Default: tcp_nodelay on;</li>\n<li>Context: http, server, location;</li>\n</ul>\n<p>作用：在 keepalive 连接下，提高网络包传输的实时性</p>\n<h3 id=\"gzip\"><a class=\"header-anchor\" href=\"#gzip\" aria-hidden=\"true\">#</a> gzip</h3>\n<ul>\n<li>Syntax: gzip on | off;</li>\n<li>Default: gzip off;</li>\n<li>Context: http, server, location, if in location</li>\n</ul>\n<p>作用：传输压缩</p>\n<h3 id=\"gzip-comp-level\"><a class=\"header-anchor\" href=\"#gzip-comp-level\" aria-hidden=\"true\">#</a> gzip_comp_level</h3>\n<ul>\n<li>Syntax: gzip_comp_level level;</li>\n<li>Default: gzip_comp_level 1;</li>\n<li>Context: http, server, location</li>\n</ul>\n<p>作用：压缩比</p>\n<h3 id=\"gzip-http-version\"><a class=\"header-anchor\" href=\"#gzip-http-version\" aria-hidden=\"true\">#</a> gzip_http_version</h3>\n<ul>\n<li>Syntax: gzip_http_version 1.0 1.1;</li>\n<li>Default: gzip_http_version 1.1;</li>\n<li>Context: http, server, location</li>\n</ul>\n<h3 id=\"扩展-nginx-压缩模块\"><a class=\"header-anchor\" href=\"#扩展-nginx-压缩模块\" aria-hidden=\"true\">#</a> 扩展 Nginx 压缩模块</h3>\n<ul>\n<li>http_gzip_static_module - 预读 gzip 功能</li>\n<li>http_gunzip_module - 应用支持 gunzip 压缩方式</li>\n</ul>\n<h2 id=\"浏览器缓存\"><a class=\"header-anchor\" href=\"#浏览器缓存\" aria-hidden=\"true\">#</a> 浏览器缓存</h2>\n<p>http 定义的缓存机制（如：Expires, Cache-Control 等）</p>\n<ul>\n<li>浏览器请求--&gt;无缓存--&gt;从服务器获取数据--&gt;呈现</li>\n<li>浏览器请求--&gt;有缓存--&gt;校验是否过期--&gt;呈现</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>--</th>\n<th>--</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>校验是否过期</td>\n<td>Expires, Cache-Control(max-age)</td>\n</tr>\n<tr>\n<td>协议中 Etag 头信息校验</td>\n<td>Etag</td>\n</tr>\n<tr>\n<td>Last-Modified 头信息校验</td>\n<td>Last-Modified</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"配置语法-expires\"><a class=\"header-anchor\" href=\"#配置语法-expires\" aria-hidden=\"true\">#</a> 配置语法 expires</h3>\n<p>添加 Cache-Controller, Expires 头</p>\n<ul>\n<li>Syntax: expires [modified] time;  expries epoch |max|off;</li>\n<li>Default expires off;</li>\n<li>Context: http, server, location, if in location</li>\n</ul>\n<h2 id=\"跨站访问支持\"><a class=\"header-anchor\" href=\"#跨站访问支持\" aria-hidden=\"true\">#</a> 跨站访问支持</h2>\n<ul>\n<li>Syntax: add_header name value [always];</li>\n<li>Default: --;</li>\n<li>Context: http, server, location, if in location</li>\n</ul>\n<h2 id=\"防盗链\"><a class=\"header-anchor\" href=\"#防盗链\" aria-hidden=\"true\">#</a> 防盗链</h2>\n<blockquote>\n<p>防止网站资源被盗用</p>\n</blockquote>\n<h3 id=\"基于-http-refer-防盗链配置模块\"><a class=\"header-anchor\" href=\"#基于-http-refer-防盗链配置模块\" aria-hidden=\"true\">#</a> 基于 http_refer 防盗链配置模块</h3>\n<ul>\n<li>Syntax: valid_referers none|blocked|servernames|string...;</li>\n<li>Default: --</li>\n<li>Context: server, location</li>\n</ul>\n</div>\n",null]}