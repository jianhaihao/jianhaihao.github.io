{"remainingRequest":"D:\\Products\\jianhaihao.github.io\\node_modules\\vue-loader\\lib\\index.js??ref--1-1!D:\\Products\\jianhaihao.github.io\\node_modules\\vuepress\\lib\\webpack\\markdownLoader.js??ref--1-2!D:\\Products\\jianhaihao.github.io\\docs\\swoft\\env-need.md?vue&type=template&id=6b05613b&","dependencies":[{"path":"D:\\Products\\jianhaihao.github.io\\docs\\swoft\\env-need.md","mtime":1552405364553},{"path":"D:\\Products\\jianhaihao.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552405366197},{"path":"D:\\Products\\jianhaihao.github.io\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1552405375424},{"path":"D:\\Products\\jianhaihao.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552405366197},{"path":"D:\\Products\\jianhaihao.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1552405375423},{"path":"D:\\Products\\jianhaihao.github.io\\node_modules\\vuepress\\lib\\webpack\\markdownLoader.js","mtime":1552405375700}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"swoft-环境需求\"><a class=\"header-anchor\" href=\"#swoft-环境需求\" aria-hidden=\"true\">#</a> Swoft 环境需求</h1>\n<h2 id=\"_1-按需安装系统缺少的扩展\"><a class=\"header-anchor\" href=\"#_1-按需安装系统缺少的扩展\" aria-hidden=\"true\">#</a> 1. 按需安装系统缺少的扩展</h2>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\nyum -y <span class=\"token function\">install</span> gcc  <span class=\"token comment\"># 安装gcc</span>\n\nyum -y <span class=\"token function\">install</span> libxml2 libxml2-devel <span class=\"token comment\"># 安装libxml2</span>\n\nyum -y <span class=\"token function\">install</span> m4   <span class=\"token comment\"># 安装m4</span>\n \nyum -y <span class=\"token function\">install</span> autoconf <span class=\"token comment\"># 安装autoconf</span>\n\nyum -y <span class=\"token function\">install</span> openssl  <span class=\"token comment\"># 安装openssl</span>\n\nyum -y <span class=\"token function\">install</span> openssl-devel   <span class=\"token comment\"># 安装openssl-devel</span>\n\nyum -y <span class=\"token function\">install</span> <span class=\"token function\">git</span>  <span class=\"token comment\"># 安装 git</span>\n\nyum -y <span class=\"token function\">install</span> glibc-headers    <span class=\"token comment\"># 安装 glibc-headers</span>\n\nyum -y <span class=\"token function\">install</span> gcc-c++          <span class=\"token comment\"># 安装 gcc-c++</span>\n\nyum -y <span class=\"token function\">install</span> pcre-devel   <span class=\"token comment\"># 安装 pcre-devel</span>\n\nyum -y <span class=\"token function\">install</span> lrzsz   <span class=\"token comment\"># 安装 lrzsz (用于上传与下载文件)</span>\n\nyum -y <span class=\"token function\">install</span> <span class=\"token function\">zip</span>  <span class=\"token comment\"># 安装 zip</span>\n\nyum -y <span class=\"token function\">install</span> unzip  <span class=\"token comment\"># 安装 unzip</span>\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"_2-安装php（-7-0）-推荐7-1\"><a class=\"header-anchor\" href=\"#_2-安装php（-7-0）-推荐7-1\" aria-hidden=\"true\">#</a> 2. 安装PHP（<code>&gt;7.0</code>）,推荐<code>7.1+</code></h2>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n1. 上传压缩包并减压，在减压后的文件夹下执行：\n\n<span class=\"token function\">tar</span> -zxvf php-7.2.11.tar.gz    <span class=\"token comment\"># 解压缩文件</span>\n\n./configure --prefix<span class=\"token operator\">=</span>/home/php   <span class=\"token comment\"># 指定PHP安装路径</span>\n\n<span class=\"token function\">make</span>    <span class=\"token comment\"># 通过make命令进行构建编译</span>\n\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>   <span class=\"token comment\"># 通过 make install 命令进行安装</span>\n\n2. 简化PHP执行命令：\n\n<span class=\"token function\">vi</span> ~/.bash_profile     <span class=\"token comment\"># 编辑家目录下文件.bash_profile</span>\n\n<span class=\"token comment\"># 在.bash_profile文件末尾添加：</span>\n<span class=\"token function\">alias</span> php<span class=\"token operator\">=</span>/home/php/bin/php  <span class=\"token comment\"># 配置php的实际安装路径</span>\n<span class=\"token comment\"># 保存并退出</span>\n\n<span class=\"token comment\"># 执行以下命令使配置生效</span>\n<span class=\"token function\">source</span> ~/.bash_profile\n\n3. php.ini 文件设置\n\n<span class=\"token function\">cd</span> /home/php-7.2.11      <span class=\"token comment\"># 进入解压后的php源码包中</span>\n\n<span class=\"token function\">cp</span> php.ini-development /home/php/lib/   <span class=\"token comment\"># 拷贝到php实际安装到的位置</span>\n\n<span class=\"token function\">mv</span> php.ini-development php.ini     <span class=\"token comment\"># 修改文件名称</span>\n\nphp -i <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> php.ini      <span class=\"token comment\"># 查看php.ini使用的文件是否正确</span>\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"_3-安装swoole扩展\"><a class=\"header-anchor\" href=\"#_3-安装swoole扩展\" aria-hidden=\"true\">#</a> 3. 安装<code>swoole</code>扩展</h2>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n<span class=\"token function\">git</span> clone https://gitee.com/swoole/swoole.git  <span class=\"token comment\"># 从 码云 上进行克隆</span>\n\n<span class=\"token comment\"># 在swoole解压后的源码目录下运行phpize</span>\n/home/php/bin/phpize  <span class=\"token comment\"># 运行该命令生成configure</span>\n\n./configure --with-php-config<span class=\"token operator\">=</span>/home/php/bin/php-config  <span class=\"token comment\"># 执行编译</span>\n\n<span class=\"token function\">make</span>    <span class=\"token comment\"># 执行构建</span>\n\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>  <span class=\"token comment\"># 执行安装</span>\n\n<span class=\"token comment\"># 设置php.ini</span>\n<span class=\"token function\">cd</span> /home/php/lib   <span class=\"token comment\"># 进入php.ini文件目录</span>\nextension<span class=\"token operator\">=</span>swoole   <span class=\"token comment\"># 开启swoole扩展</span>\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"_4-安装redis\"><a class=\"header-anchor\" href=\"#_4-安装redis\" aria-hidden=\"true\">#</a> 4. 安装<code>redis</code></h2>\n<p><a href=\"https://redis.io\" target=\"_blank\" rel=\"noopener noreferrer\">redis官网<OutboundLink/></a><br>\n<a href=\"https://redis.io/commands\" target=\"_blank\" rel=\"noopener noreferrer\">redis命令<OutboundLink/></a></p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n<span class=\"token function\">tar</span> -zxvf redis-4.0.11.tar.gz    <span class=\"token comment\"># 上传压缩包并减压</span>\n\n<span class=\"token function\">cd</span> redis-4.0.11      <span class=\"token comment\"># 进入redis解压后的目录</span>\n\n<span class=\"token function\">make</span>       <span class=\"token comment\"># 执行make命令</span>\n\n<span class=\"token function\">cd</span> src     <span class=\"token comment\"># 进入src目录</span>\n\n./redis-server    <span class=\"token comment\"># 启动redis</span>\n\n<span class=\"token comment\"># 如需修改redis端口，执行以下：</span>\n<span class=\"token function\">cd</span> /home/redis-4.0.11      <span class=\"token comment\"># 进入redis的文件目录</span>\n<span class=\"token function\">vi</span> redis.conf              <span class=\"token comment\"># 编辑 redis.conf 文件</span>\nport 6379                  <span class=\"token comment\"># 自定义 port的值，修改后保存退出即可</span>\n\n<span class=\"token comment\"># 通过cli端连接redis</span>\n<span class=\"token function\">cd</span> src     <span class=\"token comment\"># 进入src目录</span>\n\n./redis-cli     <span class=\"token comment\"># 开启cli端</span>\n\n<span class=\"token keyword\">set</span> <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">]</span>  <span class=\"token comment\"># 设置键值</span>\n\nget <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span>          <span class=\"token comment\"># 获得指定键名的键值</span>\n\ndel <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span>          <span class=\"token comment\"># 删除键值对</span>\n\n……\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"_5-安装hiredis库\"><a class=\"header-anchor\" href=\"#_5-安装hiredis库\" aria-hidden=\"true\">#</a> 5. 安装<code>hiredis</code>库</h2>\n<p><a href=\"https://github.com/redis/hiredis/releases\" target=\"_blank\" rel=\"noopener noreferrer\">hiredis下载地址<OutboundLink/></a></p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n<span class=\"token function\">tar</span> -zxvf hiredis-0.14.0.tar.gz    <span class=\"token comment\"># 上传压缩包并减压</span>\n\n<span class=\"token function\">cd</span> hiredis-0.14.0      <span class=\"token comment\"># 进入hiredis解压后的目录</span>\n\n<span class=\"token function\">make</span> -j    <span class=\"token comment\"># 执行 make -j 命令</span>\n\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>  <span class=\"token comment\"># 执行 make install 命令</span>\n\n<span class=\"token function\">sudo</span> ldconfig    <span class=\"token comment\"># 执行 ldconfig 命令</span>\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"_6-重新编译swoole加入异步redis\"><a class=\"header-anchor\" href=\"#_6-重新编译swoole加入异步redis\" aria-hidden=\"true\">#</a> 6. 重新编译swoole加入异步redis</h2>\n<p>重新编译swoole加入 <code>-enable-async-redis</code></p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n<span class=\"token function\">cd</span> swoole  <span class=\"token comment\"># 进入swoole的安装目录</span>\n\n./configure --with-php-config<span class=\"token operator\">=</span>/home/php/bin/php-config --enable-async-redis\n                  \n<span class=\"token function\">make</span> clean \n\n<span class=\"token function\">make</span> -j\n\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n<span class=\"token comment\"># 如果此时执行php命令时报错，解决方法如下：</span>\n<span class=\"token function\">vi</span> ~/.bash_profile     <span class=\"token comment\"># 用vi打开当前用户的bash_profile</span>\n<span class=\"token comment\"># 在最后一行添加</span>\n<span class=\"token function\">export</span> LD_LIBRARY_PATH<span class=\"token operator\">=</span><span class=\"token variable\">$LD_LIBRARY_PATH</span>:/usr/local/lib\n<span class=\"token comment\"># 执行下面命令使配置生效</span>\n<span class=\"token function\">source</span> ~/.bash_profile\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n\n<span class=\"token comment\"># 检查是否支持异步redis</span>\nphp --ri swoole   <span class=\"token comment\"># 如果返回结果有“ async redis client => enabled ”, 表示安装成功</span>\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"_7-安装php包管理器composer\"><a class=\"header-anchor\" href=\"#_7-安装php包管理器composer\" aria-hidden=\"true\">#</a> 7. 安装PHP包管理器<code>composer</code></h2>\n<p>首先需要添加<code>openssl</code>扩展</p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n<span class=\"token function\">cd</span> /home/php-7.2.11/ext/openssl  <span class=\"token comment\"># 进入解压后的php源码包中里面的openssl扩展中</span>\n\n/home/php/bin/phpize       <span class=\"token comment\"># 执行phpize命令，注意自身系统的phpize路径</span>\n\n<span class=\"token comment\"># 执行后，发现错误 无法找到config.m4 ，config0.m4就是config.m4。直接重命名</span>\n\n<span class=\"token function\">mv</span> config0.m4 config.m4    <span class=\"token comment\"># 重命名config0.m4为config.m4</span>\n\n/home/php/bin/phpize       <span class=\"token comment\"># 再次执行phpize命令</span>\n\n./configure --with-openssl --with-php-config<span class=\"token operator\">=</span>/home/php/bin/php-config   <span class=\"token comment\"># 生成configure文件</span>\n\n<span class=\"token function\">make</span>    <span class=\"token comment\"># 通过make命令进行构建编译</span>\n\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>   <span class=\"token comment\"># 通过 make install 命令进行安装</span>\n\n<span class=\"token comment\"># 设置php.ini</span>\n<span class=\"token function\">cd</span> /home/php/lib    <span class=\"token comment\"># 进入php.ini所在目录</span>\n\n<span class=\"token function\">vi</span> php.ini   <span class=\"token comment\"># 编辑php.ini</span>\n\n<span class=\"token comment\"># 在 php.ini 设置如下信息：</span>\nextension<span class=\"token operator\">=</span>openssl.so  <span class=\"token comment\"># 添加openssl扩展</span>\n\nphp -m  <span class=\"token comment\"># 查看php扩展</span>\n\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>下载安装 <code>composer</code></p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>\n<span class=\"token function\">curl</span> -sS https://getcomposer.org/installer <span class=\"token operator\">|</span> php   <span class=\"token comment\"># 下载 composer.phar 文件（注意要关闭翻墙）</span>\n\n<span class=\"token function\">mv</span> composer.phar /usr/local/bin/composer   <span class=\"token comment\"># 设置为全局可访问</span>\n\n<span class=\"token comment\"># 报错一下问题</span>\n/usr/bin/env: php: No such <span class=\"token function\">file</span> or directory\n<span class=\"token comment\"># 执行下面命令</span>\n<span class=\"token function\">ln</span> -s /home/php/bin/php /usr/local/bin/php   <span class=\"token comment\"># 将php的实际安装目录指向/usr/local/bin/php</span>\n\ncomposer -v    <span class=\"token comment\"># 查看composer版本，确定是否安装成功</span>\n\ncomposer selfupdate   <span class=\"token comment\"># 升级composer</span>\n\n<span class=\"token comment\"># 更换composer镜像源:</span>\ncomposer config -g repo.packagist composer https://packagist.laravel-china.org\n\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n<span class=\"token comment\"># 错误：phpunit/phpunit 5.7.* requires ext-mbstring * -> the requested PHP extension mbstring is missing from your system.</span>\n<span class=\"token comment\"># 解决办法： 配置php-mbstring扩展</span>\n\n<span class=\"token function\">cd</span> /home/php-7.2.11/ext/mbstring/      <span class=\"token comment\"># 进入php源码文件中自带的mbstring目录下</span>\n\n/home/php/bin/phpize       <span class=\"token comment\"># 执行phpize命令</span>\n\n./configure --with-php-config<span class=\"token operator\">=</span>/home/php/bin/php-config    <span class=\"token comment\"># 生成configure文件</span>\n\n<span class=\"token function\">make</span>    <span class=\"token comment\"># 通过make命令进行构建编译</span>\n\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>   <span class=\"token comment\"># 通过 make install 命令进行安装</span>\n\n<span class=\"token comment\"># 设置php.ini</span>\n<span class=\"token function\">cd</span> /home/php/lib    <span class=\"token comment\"># 进入php.ini所在目录</span>\n\n<span class=\"token function\">vi</span> php.ini   <span class=\"token comment\"># 编辑php.ini</span>\n\n<span class=\"token comment\"># 在 php.ini 设置如下信息：</span>\nextension<span class=\"token operator\">=</span>mbstring.so  <span class=\"token comment\"># 添加openssl扩展</span>\n\nphp -m  <span class=\"token comment\"># 查看php扩展</span>\n\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n\n\n</code></pre>\n<!--beforeend--></div><!--afterend--></div>\n",null]}