{"remainingRequest":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/linux/user-and-firewall.md?vue&type=template&id=4c695a6c&","dependencies":[{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/linux/user-and-firewall.md","mtime":1537933948871},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537933949569},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1537933952458},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537933949569},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js","mtime":1537933952457},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1537933952565}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._ssrNode(\"<h1 id=\\\"用户和防火墙\\\"><a href=\\\"#用户和防火墙\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 用户和防火墙</h1> <h2 id=\\\"系统用户操作命令\\\"><a href=\\\"#系统用户操作命令\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 系统用户操作命令</h2> <ul><li>useradd 添加用户</li> <li>adduser 添加用户</li> <li>userdel 删除用户</li> <li>passwd 设置密码</li></ul> <h2 id=\\\"w-用户名\\\"><a href=\\\"#w-用户名\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> w 用户名</h2> <ul><li>命令输出\\n<ul><li>USER：登陆的用户名</li> <li>TTY：登陆终端</li> <li>FROM：从哪个IP地址登陆</li> <li>LOGIN@：登陆时间</li> <li>IDLE：用户闲置时间</li> <li>JCPU：指的是和该终端连接的所有进程所占用的时间。这个时间里并不包括过去的后台作业时间，但却包括当前正在运行的后台作业所占用的时间</li> <li>PCPU：是指当前进程所占用的时间</li> <li>WHAT：当前正在运行的命令</li></ul></li></ul> <h2 id=\\\"who\\\"><a href=\\\"#who\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> who</h2> <ul><li>命令输出\\n<ul><li>-用户名</li> <li>-登陆终端</li> <li>-登陆时间（登陆来源 ip 地址）</li></ul></li></ul> <h2 id=\\\"last\\\"><a href=\\\"#last\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> last</h2> <ul><li>查询当前登陆和过去登陆的信息</li> <li>/var/log/wtmp下面的数据</li></ul> <h2 id=\\\"lastlog\\\"><a href=\\\"#lastlog\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> lastlog</h2> <ul><li>登陆日志信息</li> <li>/var/log/lastlog</li></ul> <h3 id=\\\"防火墙设置\\\"><a href=\\\"#防火墙设置\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 防火墙设置</h3> <ul><li>作用：保护服务器的安全</li> <li>设置防火墙规则\\n<ul><li>开放 80, 22 端口</li></ul></li> <li>关闭防火墙</li></ul> <div class=\\\"language-bash extra-class\\\"><pre class=\\\"language-bash\\\"><code>yum <span class=\\\"token function\\\">install</span> firewalld <span class=\\\"token comment\\\"># 安装</span>\\n<span class=\\\"token function\\\">service</span> firewalld start <span class=\\\"token comment\\\"># 启动</span>\\n<span class=\\\"token function\\\">service</span> firewalld status <span class=\\\"token comment\\\"># 检查状态</span>\\n<span class=\\\"token function\\\">service</span> firewalld stop/disable <span class=\\\"token comment\\\"># 关闭/禁用防火墙</span>\\n\\nfirewall-cmd --state <span class=\\\"token comment\\\"># 防火墙状态</span>\\nfirewall-cmd --get-zones <span class=\\\"token comment\\\"># 查看所有的区域</span>\\nfirewall-cmd --list-default-zone <span class=\\\"token comment\\\"># 查看默认的区域</span>\\nfirewall-cmd --list-all-zone <span class=\\\"token comment\\\"># 查看所有区域的配置信息</span>\\nfirewall-cmd --list-all <span class=\\\"token comment\\\"># 查看当前区域配置信息</span>\\nfirewall-cmd --list-ports <span class=\\\"token comment\\\"># 查看默认区域打开的端口</span>\\nfirewall-cmd --list-service <span class=\\\"token comment\\\"># 查看当前区域服务</span>\\nfirewall-cmd --list-port <span class=\\\"token comment\\\"># 查看当前开启的端口</span>\\nfirewall-cmd --query-service<span class=\\\"token operator\\\">=</span>ssh <span class=\\\"token comment\\\"># 查看是否有 ssh 服务</span>\\nfirewall-cmd --remove-service<span class=\\\"token operator\\\">=</span>ssh <span class=\\\"token comment\\\"># 删除 ssh 服务</span>\\nfirewall-cmd --add-service<span class=\\\"token operator\\\">=</span>ssh  <span class=\\\"token comment\\\"># 添加 ssh 服务</span>\\nfirewall-cmd --add-port<span class=\\\"token operator\\\">=</span>21/tcp --permanent <span class=\\\"token comment\\\"># 添加端口/协议,需重启</span>\\n</code></pre></div><h2 id=\\\"提权\\\"><a href=\\\"#提权\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 提权</h2> <div class=\\\"language-bash extra-class\\\"><pre class=\\\"language-bash\\\"><code><span class=\\\"token comment\\\"># 提权</span>\\n<span class=\\\"token function\\\">sudo</span>\\n<span class=\\\"token function\\\">su</span>\\n\\n<span class=\\\"token comment\\\"># 修改配置文件</span>\\nvisudo\\n<span class=\\\"token comment\\\"># 将 test 用户设置为可提权用户</span>\\n%test ALL<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">(</span>ALL<span class=\\\"token punctuation\\\">)</span>       ALL\\n</code></pre></div><h2 id=\\\"文件上传和下载\\\"><a href=\\\"#文件上传和下载\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 文件上传和下载</h2> <ul><li>curl, wget 文件下载</li> <li>scp 文件上传</li></ul> <div class=\\\"language-bash extra-class\\\"><pre class=\\\"language-bash\\\"><code><span class=\\\"token function\\\">scp</span> test.txt test@192.168.31.54:/tmp/ <span class=\\\"token comment\\\"># 将 test.txt 文件上传到 /tmp/ 目录下</span>\\n<span class=\\\"token function\\\">scp</span> test@192.168.31.54:/tmp/test.txt ./ <span class=\\\"token comment\\\"># 将远程机器上的 text.txt 文件下载到当前目录</span>\\n</code></pre></div><ul><li>sz, rz 命令</li></ul> <div class=\\\"language-bash extra-class\\\"><pre class=\\\"language-bash\\\"><code>yum <span class=\\\"token function\\\">install</span> lrzsz\\n</code></pre></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}