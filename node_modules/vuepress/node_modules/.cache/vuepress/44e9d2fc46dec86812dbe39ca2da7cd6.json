{"remainingRequest":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/nginx/access-control.md?vue&type=template&id=db21c8a2&","dependencies":[{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/docs/nginx/access-control.md","mtime":1537926977703},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537926978403},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1537926981332},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1537926978403},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vue-loader/lib/index.js","mtime":1537926981332},{"path":"/Users/jianhaihao/Documents/Products/jianhaihao.github.io/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1537926981441}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"nginx-访问控制\"><a class=\"header-anchor\" href=\"#nginx-访问控制\" aria-hidden=\"true\">#</a> Nginx 访问控制</h1>\n<ul>\n<li>基于 IP 的访问控制 - http_access_module</li>\n<li>基于用户的信任登录 - http_auth_basic_module</li>\n</ul>\n<h2 id=\"http-access-module\"><a class=\"header-anchor\" href=\"#http-access-module\" aria-hidden=\"true\">#</a> http_access_module</h2>\n<ul>\n<li>\n<p>Syntax: allow address | CIDR | unix: | all;</p>\n</li>\n<li>\n<p>Default: --</p>\n</li>\n<li>\n<p>Context: http, server, locaiont, limit_except</p>\n</li>\n<li>\n<p>Syntax: deny address | CIDR | unix: | all;</p>\n</li>\n<li>\n<p>Default: --</p>\n</li>\n<li>\n<p>Context: http, server, location, limit_except</p>\n</li>\n</ul>\n<p>http_access_module 局限性</p>\n<ol>\n<li>采用别的 http 头信息控制访问，如： http_x_forward_for</li>\n<li>结合 geo 模块</li>\n<li>通过 http 自定义变量传递</li>\n</ol>\n<h2 id=\"http-x-forward-for\"><a class=\"header-anchor\" href=\"#http-x-forward-for\" aria-hidden=\"true\">#</a> http_x_forward_for</h2>\n<ul>\n<li>http_x_forward_for = Client IP, Proxy(1) IP, Proxy(2) IP, ...</li>\n</ul>\n<h2 id=\"http-auth-basic-module\"><a class=\"header-anchor\" href=\"#http-auth-basic-module\" aria-hidden=\"true\">#</a> http_auth_basic_module</h2>\n<ul>\n<li>\n<p>Syntax: auth_basic string | off;</p>\n</li>\n<li>\n<p>Default: auth_basic off;</p>\n</li>\n<li>\n<p>Context: http, server, locaiont, limit_except</p>\n</li>\n<li>\n<p>Syntax: auth_basic_user_file file;</p>\n</li>\n<li>\n<p>Default: --</p>\n</li>\n<li>\n<p>Context: http, server, location,limit_except</p>\n</li>\n</ul>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>yum <span class=\"token function\">install</span> -y httpd-tools <span class=\"token comment\"># 安装 httpd-tools 包</span>\nhtpasswd -c 密码文件路径 用户名 <span class=\"token comment\"># 生成密码文件</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>局限性</p>\n<ol>\n<li>用户信息依赖文件方式</li>\n<li>操作管理机械，效率低下</li>\n</ol>\n<p>解决方案</p>\n<ol>\n<li>Nginx 结合 LUA 实现高效验证</li>\n<li>Nginx 和 LDAP 打通，利用 nginx-auth-ldap 模块</li>\n</ol>\n</div>\n",null]}