{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{186:function(t,s,a){\"use strict\";a.r(s);var e=a(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"content\"},[a(\"h1\",{attrs:{id:\"用户和防火墙\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#用户和防火墙\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 用户和防火墙\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"系统用户操作命令\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#系统用户操作命令\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 系统用户操作命令\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"useradd 添加用户\")]),t._v(\" \"),a(\"li\",[t._v(\"adduser 添加用户\")]),t._v(\" \"),a(\"li\",[t._v(\"userdel 删除用户\")]),t._v(\" \"),a(\"li\",[t._v(\"passwd 设置密码\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"w-用户名\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#w-用户名\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" w 用户名\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"命令输出\\n\"),a(\"ul\",[a(\"li\",[t._v(\"USER：登陆的用户名\")]),t._v(\" \"),a(\"li\",[t._v(\"TTY：登陆终端\")]),t._v(\" \"),a(\"li\",[t._v(\"FROM：从哪个IP地址登陆\")]),t._v(\" \"),a(\"li\",[t._v(\"LOGIN@：登陆时间\")]),t._v(\" \"),a(\"li\",[t._v(\"IDLE：用户闲置时间\")]),t._v(\" \"),a(\"li\",[t._v(\"JCPU：指的是和该终端连接的所有进程所占用的时间。这个时间里并不包括过去的后台作业时间，但却包括当前正在运行的后台作业所占用的时间\")]),t._v(\" \"),a(\"li\",[t._v(\"PCPU：是指当前进程所占用的时间\")]),t._v(\" \"),a(\"li\",[t._v(\"WHAT：当前正在运行的命令\")])])])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"who\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#who\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" who\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"命令输出\\n\"),a(\"ul\",[a(\"li\",[t._v(\"-用户名\")]),t._v(\" \"),a(\"li\",[t._v(\"-登陆终端\")]),t._v(\" \"),a(\"li\",[t._v(\"-登陆时间（登陆来源 ip 地址）\")])])])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"last\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#last\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" last\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"查询当前登陆和过去登陆的信息\")]),t._v(\" \"),a(\"li\",[t._v(\"/var/log/wtmp下面的数据\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"lastlog\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#lastlog\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" lastlog\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"登陆日志信息\")]),t._v(\" \"),a(\"li\",[t._v(\"/var/log/lastlog\")])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"防火墙设置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#防火墙设置\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 防火墙设置\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"作用：保护服务器的安全\")]),t._v(\" \"),a(\"li\",[t._v(\"设置防火墙规则\\n\"),a(\"ul\",[a(\"li\",[t._v(\"开放 80, 22 端口\")])])]),t._v(\" \"),a(\"li\",[t._v(\"关闭防火墙\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[t._v(\"yum \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" firewalld \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 安装\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"service\")]),t._v(\" firewalld start \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 启动\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"service\")]),t._v(\" firewalld status \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 检查状态\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"service\")]),t._v(\" firewalld stop/disable \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 关闭/禁用防火墙\")]),t._v(\"\\n\\nfirewall-cmd --state \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 防火墙状态\")]),t._v(\"\\nfirewall-cmd --get-zones \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看所有的区域\")]),t._v(\"\\nfirewall-cmd --list-default-zone \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看默认的区域\")]),t._v(\"\\nfirewall-cmd --list-all-zone \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看所有区域的配置信息\")]),t._v(\"\\nfirewall-cmd --list-all \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看当前区域配置信息\")]),t._v(\"\\nfirewall-cmd --list-ports \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看默认区域打开的端口\")]),t._v(\"\\nfirewall-cmd --list-service \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看当前区域服务\")]),t._v(\"\\nfirewall-cmd --list-port \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看当前开启的端口\")]),t._v(\"\\nfirewall-cmd --query-service\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"ssh \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 查看是否有 ssh 服务\")]),t._v(\"\\nfirewall-cmd --remove-service\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"ssh \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 删除 ssh 服务\")]),t._v(\"\\nfirewall-cmd --add-service\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"ssh  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 添加 ssh 服务\")]),t._v(\"\\nfirewall-cmd --add-port\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"21/tcp --permanent \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 添加端口/协议,需重启\")]),t._v(\"\\n\")])])]),a(\"h2\",{attrs:{id:\"提权\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#提权\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 提权\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 提权\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"su\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 修改配置文件\")]),t._v(\"\\nvisudo\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 将 test 用户设置为可提权用户\")]),t._v(\"\\n%test ALL\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ALL\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"       ALL\\n\")])])]),a(\"h2\",{attrs:{id:\"文件上传和下载\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#文件上传和下载\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 文件上传和下载\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"curl, wget 文件下载\")]),t._v(\" \"),a(\"li\",[t._v(\"scp 文件上传\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"scp\")]),t._v(\" test.txt test@192.168.31.54:/tmp/ \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 将 test.txt 文件上传到 /tmp/ 目录下\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"scp\")]),t._v(\" test@192.168.31.54:/tmp/test.txt ./ \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# 将远程机器上的 text.txt 文件下载到当前目录\")]),t._v(\"\\n\")])])]),a(\"ul\",[a(\"li\",[t._v(\"sz, rz 命令\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[t._v(\"yum \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" lrzsz\\n\")])])])])}],!1,null,null,null);n.options.__file=\"user-and-firewall.md\";s.default=n.exports}}]);","extractedComments":[]}