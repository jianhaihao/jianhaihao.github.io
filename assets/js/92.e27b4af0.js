(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{173:function(e,r,a){"use strict";a.r(r);var f=a(0),t=Object(f.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"buffer-缓冲"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-缓冲","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer 缓冲")]),e._v(" "),a("blockquote",[a("p",[e._v("Buffer 用来处理二进制数据流")])]),e._v(" "),a("p",[e._v("Buffer 实例类似于整数数组,但是大小是固定的,创建之后无法调整,Buffer 在 Node 中是一个全局变量,无须"),a("code",[e._v("require")]),e._v("即可使用，在 V8 堆外分配内存")]),e._v(" "),a("h2",{attrs:{id:"buffer-类静态方法和属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-类静态方法和属性","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer 类静态方法和属性")]),e._v(" "),a("h3",{attrs:{id:"buffer-alloc-size-fill-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-alloc-size-fill-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.alloc(size[, fill[, encoding]])")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("size")]),e._v("新建 Buffer 期望的长度")]),e._v(" "),a("li",[a("code",[e._v("fill")]),e._v("预填充新 Buffer 的值，默认"),a("code",[e._v("0")])]),e._v(" "),a("li",[a("code",[e._v("encoding")]),e._v("如果"),a("code",[e._v("fille")]),e._v("是字符串，则该值为它的编码格式，默认"),a("code",[e._v("utf8")])])]),e._v(" "),a("p",[e._v("分配一个大小为"),a("code",[e._v("size")]),e._v("长度的 Buffer，如果"),a("code",[e._v("size")]),e._v("大于"),a("code",[e._v("Buffer.contants.MAX_LENGTH")]),e._v("或者小于"),a("code",[e._v("0")]),e._v("，则抛出"),a("code",[e._v("RangeError")]),e._v("错误")]),e._v(" "),a("h3",{attrs:{id:"buffer-allocunsave-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-allocunsave-size","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.allocUnSave(size)")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("size")]),e._v("新建 Buffer 期望的长度")])]),e._v(" "),a("p",[e._v("以这种方式创建的 Buffer 实例底层内存是未被初始化的，所以可能存在一些历史敏感数据，可以通过"),a("code",[e._v("Buffer.fill(0)")]),e._v("填充，性能会比"),a("code",[e._v("Buffer.alloc()")]),e._v("要高")]),e._v(" "),a("p",[e._v("这种方式创建会使用 Buffer 实例预分配大小为"),a("code",[e._v("Buffer.poolSize")]),e._v("的内存池，当"),a("code",[e._v("size")]),e._v("的大小小于或等于"),a("code",[e._v("Buffer.poolSize >> 1")]),e._v("的时候，"),a("code",[e._v("Buffer.allocUnSave()")]),e._v("会直接使用内存池里面的内存")]),e._v(" "),a("h3",{attrs:{id:"buffer-bytelength-string-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-bytelength-string-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.byteLength(string[, encoding])")]),e._v(" "),a("p",[e._v("返回字符串实际的字节长度，默认"),a("code",[e._v("utf8")]),e._v("编码")]),e._v(" "),a("h3",{attrs:{id:"buffer-compare-buf1-buf2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-compare-buf1-buf2","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.compare(buf1, buf2)")]),e._v(" "),a("p",[e._v("比较"),a("code",[e._v("buf1")]),e._v("和"),a("code",[e._v("buf2")]),e._v("，通常用于 Buffer 实例数组的排序，相当于"),a("code",[e._v("buf1.compare(buf2)")])]),e._v(" "),a("h3",{attrs:{id:"buffer-concat-list-totallength"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-concat-list-totallength","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.concat(list[, totalLength])")]),e._v(" "),a("p",[e._v("合并 Buffer 实例组成的数组，形成一个新的 Buffer 实例")]),e._v(" "),a("h3",{attrs:{id:"buffer-from-array"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-array","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.from(array)")]),e._v(" "),a("p",[e._v("通过一个八位字节的"),a("code",[e._v("array")]),e._v("创建一个新的 Buffer")]),e._v(" "),a("h3",{attrs:{id:"buffer-from-string-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-string-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.from(string[, encoding])")]),e._v(" "),a("p",[e._v("新建一个包含所给的 JavaScript 字符串的 Buffer 实例，默认编码为"),a("code",[e._v("utf8")])]),e._v(" "),a("h3",{attrs:{id:"buffer-from-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-buffer","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.from(buffer)")]),e._v(" "),a("p",[e._v("拷贝 Buffer 对象")]),e._v(" "),a("h3",{attrs:{id:"buffer-isbuffer-obj"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-isbuffer-obj","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.isBuffer(obj)")]),e._v(" "),a("p",[e._v("返回一个对象是否是 Buffer 实例")]),e._v(" "),a("h3",{attrs:{id:"buffer-isencoding-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-isencoding-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.isEncoding(encoding)")]),e._v(" "),a("p",[e._v("如果"),a("code",[e._v("encoding")]),e._v("是一个字符编码，返回"),a("code",[e._v("true")])]),e._v(" "),a("h3",{attrs:{id:"buffer-poolsize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-poolsize","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer.poolSize")]),e._v(" "),a("p",[e._v("预分配、内部 Buffer 实例池的大小的字节数")]),e._v(" "),a("h2",{attrs:{id:"buffer-实例方法和属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-实例方法和属性","aria-hidden":"true"}},[e._v("#")]),e._v(" Buffer 实例方法和属性")]),e._v(" "),a("h3",{attrs:{id:"buf-index"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-index","aria-hidden":"true"}},[e._v("#")]),e._v(" buf[index]")]),e._v(" "),a("p",[e._v("可以用来获取或者设置制定"),a("code",[e._v("index")]),e._v("位置的单个字节")]),e._v(" "),a("h3",{attrs:{id:"buf-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-buffer","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.buffer")]),e._v(" "),a("p",[e._v("指向该 Buffer 实例底层的 "),a("code",[e._v("ArrayBuffer")]),e._v(" 对象")]),e._v(" "),a("h3",{attrs:{id:"buf-copy-target-targetstart-sourcestart-sourceend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-copy-target-targetstart-sourcestart-sourceend","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])")]),e._v(" "),a("p",[e._v("拷贝"),a("code",[e._v("buf")]),e._v("至"),a("code",[e._v("target")])]),e._v(" "),a("h3",{attrs:{id:"buf-entries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-entries","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.entries()")]),e._v(" "),a("p",[e._v("返回"),a("code",[e._v("[index, byte]")]),e._v("迭代器")]),e._v(" "),a("h3",{attrs:{id:"buf-equals-otherbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-equals-otherbuf","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.equals(otherBuf)")]),e._v(" "),a("p",[e._v("比较两个 Buffer 实例，如果完全相同返回"),a("code",[e._v("true")]),e._v("，否则返回"),a("code",[e._v("false")])]),e._v(" "),a("h3",{attrs:{id:"buf-fill-value-offset-end-coding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-fill-value-offset-end-coding","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.fill(value[, offset[, end]][, coding])")]),e._v(" "),a("p",[e._v("使用"),a("code",[e._v("value")]),e._v("填充"),a("code",[e._v("buf")])]),e._v(" "),a("h3",{attrs:{id:"buf-includes-value-byteoffset-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-includes-value-byteoffset-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.includes(value[, byteOffset][, encoding])")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("value")]),e._v("搜索的值")]),e._v(" "),a("li",[a("code",[e._v("byteOffset")]),e._v("开始搜索的位置")]),e._v(" "),a("li",[a("code",[e._v("encoding")]),e._v("如果"),a("code",[e._v("value")]),e._v("是一个字符串，该值为字符编码，默认"),a("code",[e._v("utf8")])])]),e._v(" "),a("p",[e._v("相当于"),a("code",[e._v("buf.indexOf() !== -1")])]),e._v(" "),a("h3",{attrs:{id:"buf-indexof-value-byteoffset-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-indexof-value-byteoffset-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.indexOf(value[, byteOffset][, encoding])")]),e._v(" "),a("p",[e._v("搜索"),a("code",[e._v("value")]),e._v("在"),a("code",[e._v("buf")]),e._v("所在的位置，如果没有返回"),a("code",[e._v("-1")])]),e._v(" "),a("h3",{attrs:{id:"buf-keys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-keys","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.keys()")]),e._v(" "),a("p",[e._v("返回"),a("code",[e._v("buf")]),e._v("键名组成的迭代器")]),e._v(" "),a("h3",{attrs:{id:"buf-length"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buf-length","aria-hidden":"true"}},[e._v("#")]),e._v(" buf.length")]),e._v(" "),a("p",[a("code",[e._v("buf")]),e._v("的内存量")])])}],!1,null,null,null);t.options.__file="buffer.md";r.default=t.exports}}]);