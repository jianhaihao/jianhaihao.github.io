(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{183:function(t,a,_){"use strict";_.r(a);var e=_(0),s=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,_=t._self._c||a;return _("div",{staticClass:"content"},[_("h1",{attrs:{id:"nginx-访问控制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nginx-访问控制","aria-hidden":"true"}},[t._v("#")]),t._v(" Nginx 访问控制")]),t._v(" "),_("ul",[_("li",[t._v("基于 IP 的访问控制 - http_access_module")]),t._v(" "),_("li",[t._v("基于用户的信任登录 - http_auth_basic_module")])]),t._v(" "),_("h2",{attrs:{id:"http-access-module"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-access-module","aria-hidden":"true"}},[t._v("#")]),t._v(" http_access_module")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("Syntax: allow address | CIDR | unix: | all;")])]),t._v(" "),_("li",[_("p",[t._v("Default: --")])]),t._v(" "),_("li",[_("p",[t._v("Context: http, server, locaiont, limit_except")])]),t._v(" "),_("li",[_("p",[t._v("Syntax: deny address | CIDR | unix: | all;")])]),t._v(" "),_("li",[_("p",[t._v("Default: --")])]),t._v(" "),_("li",[_("p",[t._v("Context: http, server, location, limit_except")])])]),t._v(" "),_("p",[t._v("http_access_module 局限性")]),t._v(" "),_("ol",[_("li",[t._v("采用别的 http 头信息控制访问，如： http_x_forward_for")]),t._v(" "),_("li",[t._v("结合 geo 模块")]),t._v(" "),_("li",[t._v("通过 http 自定义变量传递")])]),t._v(" "),_("h2",{attrs:{id:"http-x-forward-for"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-x-forward-for","aria-hidden":"true"}},[t._v("#")]),t._v(" http_x_forward_for")]),t._v(" "),_("ul",[_("li",[t._v("http_x_forward_for = Client IP, Proxy(1) IP, Proxy(2) IP, ...")])]),t._v(" "),_("h2",{attrs:{id:"http-auth-basic-module"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-auth-basic-module","aria-hidden":"true"}},[t._v("#")]),t._v(" http_auth_basic_module")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("Syntax: auth_basic string | off;")])]),t._v(" "),_("li",[_("p",[t._v("Default: auth_basic off;")])]),t._v(" "),_("li",[_("p",[t._v("Context: http, server, locaiont, limit_except")])]),t._v(" "),_("li",[_("p",[t._v("Syntax: auth_basic_user_file file;")])]),t._v(" "),_("li",[_("p",[t._v("Default: --")])]),t._v(" "),_("li",[_("p",[t._v("Context: http, server, location,limit_except")])])]),t._v(" "),_("div",{staticClass:"language-bash extra-class"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[t._v("yum "),_("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" -y httpd-tools "),_("span",{attrs:{class:"token comment"}},[t._v("# 安装 httpd-tools 包")]),t._v("\nhtpasswd -c 密码文件路径 用户名 "),_("span",{attrs:{class:"token comment"}},[t._v("# 生成密码文件")]),t._v("\n")])])]),_("p",[t._v("局限性")]),t._v(" "),_("ol",[_("li",[t._v("用户信息依赖文件方式")]),t._v(" "),_("li",[t._v("操作管理机械，效率低下")])]),t._v(" "),_("p",[t._v("解决方案")]),t._v(" "),_("ol",[_("li",[t._v("Nginx 结合 LUA 实现高效验证")]),t._v(" "),_("li",[t._v("Nginx 和 LDAP 打通，利用 nginx-auth-ldap 模块")])])])}],!1,null,null,null);s.options.__file="access-control.md";a.default=s.exports}}]);